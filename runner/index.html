<html>
<head>
	<script type="text/javascript" src="https://ajax.googleapis.com/ajax/libs/jquery/1.6.1/jquery.min.js"></script>
	<script type="text/javascript" src="./runner.js">
		$(function(){
			var now = (new Date()).getTime();
			new Runner(
				// step 1	
				function(args){
					console.log('first (args=['+args+'])');
					args.push('first');
					this.next(args);
				},
				// step 2
				function(args){
					console.log('second (args=['+args+'])');
					args.push('second');
					//this.error('second step failed', args);
					this.next(args);
				},
				// step 3
				function(args){
					console.log('third (args='+args+')');
					args.push('third');
					this.next({success:true,args:args});
				}
			).start('starting');
		});
	</script>
</head>
<body>
	<div id="message">This is a test.</div>
</body>
</html>